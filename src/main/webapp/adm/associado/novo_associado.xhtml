
<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <link rel="stylesheet" type="text/css" href="css/style.css" /> 
    <ui:decorate template="../template/template.xhtml">
        <ui:define name="centro">        
            <p:tooltip/>

            <h:form>
                <p:dialog id="imagem" header="Inserir Fotografia do Associado" 
                          widgetVar="cadastrarImagem" width="900" height="500"
                          modal="false">
                    <p:photoCam widgetVar="fotoCam"  immediate="true"
                                listener="#{associadoBean.capturarFotoCam}"
                                />
                    <p:commandButton type="button" id="Bnt_foto" 
                                     value="Capture" onclick="PF('fotoCam').capture()" 
                                     style="float: start" 
                                     update="cadastroAssociado" process="cadastroAssociado"
                                     >
                        <p:resetInput target="cadastroAssociado"/>
                    </p:commandButton>

                    <br></br>
                    <p:spacer width="30px"/>
                    <p:fileUpload fileUploadListener="#{associadoBean.selecionarImagem}" 
                                  mode="advanced" auto="true" label="Selecionar Imagem de Arquivo"/>
                    <p:spacer width="10px"/>

                </p:dialog>

            </h:form>


            <h:form id="cadastroAssociado" >

                <p:wizard id="fichaCadastro" backLabel="Anterior" nextLabel="Próximo" style="width: 70%" >
                    <p:tab id="pessoa" title="Associado" >

                        <p:panel header="Dados Pessoais" >

                            <h:panelGrid columns="2" styleClass="formulario_cadastro" cellpadding="5">

                                <p:column colspan="2" >
                                    <h:outputText value="Matrícula: "/>
                                    <h:outputText value="#{associadoBean.associado.matricula}" style="color: red"/>
                                </p:column>

                                <p:column colspan="2">
                                    <h:outputText value="Data de filiação: "/>
                                    <p:calendar locale="pt_BR" navigator="true" 
                                                pattern="dd/mm/yyyy" mask="true" 
                                                value="#{associadoBean.associado.dataDeFiliacao}" 
                                                required="true"

                                                maxdate="#{associadoBean.data}"/>

                                </p:column>



                                <h:outputText value="Nome: "/>
                                <p:inputText value="#{associadoBean.associado.nome}"
                                             />

                                <h:outputText value="Nome da mãe: "/>
                                <p:inputText value="#{associadoBean.associado.nomeDaMae}"
                                             size="60" />

                                <h:outputText value="Nome do pai: "/>
                                <p:inputText value="#{associadoBean.associado.nomeDoPai}"
                                             size="60" />

                                <h:outputText value="Estado Cívil: "/>
                                <p:selectOneMenu editable="true" value="#{associadoBean.associado.estadoCivil}">
                                    <f:selectItem itemLabel="Casado(a)"/>
                                    <f:selectItem itemLabel="União Estável(a)"/>
                                    <f:selectItem itemLabel="Solteiro(a)"/>
                                </p:selectOneMenu>

                                <h:outputText value="Nome do cônjugue: "/>
                                <p:inputText value="#{associadoBean.associado.nomeConjugue}"
                                             size="60" />


                                <h:outputText value="Naturalidade: "/>
                                <p:inputText value="#{associadoBean.associado.naturalidade}"
                                             size="80" />

                                <h:outputText  value="UF: "/>
                                <p:selectOneMenu id="uf" value="#{associadoBean.associado.naturalidadeUF}">
                                    <f:selectItem itemLabel="Selecione"/>
                                    <f:selectItems var="uf" value="#{associadoBean.estados}" 
                                                   itemLabel="#{uf}" itemValue="#{uf}"
                                                   />
                                </p:selectOneMenu>

                                <h:outputText value="Endereço: "/>
                                <p:inputText value="#{associadoBean.associado.endereco}" 
                                             size="80" />

                                <h:outputText value="Bairro: "/>
                                <p:inputText value="#{associadoBean.associado.bairro}"
                                             size="45" />

                                <h:outputText value="Cidade: "/>
                                <p:inputText value="#{associadoBean.associado.cidade}"
                                             size="40" />

                                <h:outputText value="UF: "/>
                                <p:selectOneMenu id="ufEndereco" value="#{associadoBean.associado.cidadeUF}">
                                    <f:selectItem itemLabel="Selecione"/>
                                    <f:selectItems var="uf" value="#{associadoBean.estados}" 
                                                   itemLabel="#{uf}" itemValue="#{uf}"
                                                   />
                                </p:selectOneMenu>

                                <h:outputText value="Data de nascimento: "/>
                                <p:calendar locale="pt_BR" navigator="true" 
                                            pattern="dd/mm/yyyy" mask="true"
                                            value="#{associadoBean.associado.dataDeNascimento}"/>

                                <h:outputText value="Apelido: "/>
                                <p:inputText value="#{associadoBean.associado.apelido}"
                                             size="60" />


                                <h:outputText value="Alfabetizado: "/>
                                <p:selectBooleanButton onLabel="Sim" 
                                                       onIcon="ui-icon-check" offLabel="Não" 
                                                       offIcon="ui-icon-close"
                                                       value="#{associadoBean.associado.alfabetizado}"/>

                                <h:outputText value="Profissão: "/>
                                <p:inputText value="#{associadoBean.associado.profissao}"
                                             size="30" />

                                <h:outputText value="Trabalho proprío: "/>
                                <p:selectBooleanButton value="#{associadoBean.associado.trabalhoProprio}"
                                                       onLabel="Sim" 
                                                       onIcon="ui-icon-check" offLabel="Não" 
                                                       offIcon="ui-icon-close"/>

                                <h:outputText value="Quantidades de filhos: "/>
                                <p:spinner value="#{associadoBean.associado.quantidadeDeFilhos}"
                                           min="0"/>

                                <h:outputText value="Quantidades de dependentes: "/>
                                <p:spinner value="#{associadoBean.associado.dependentes}" 
                                           min="0"/>

                                <h:outputText value="Quantidades de filhos estudando: "/>
                                <p:spinner value="#{associadoBean.associado.quantidadeDeFilhosEstudando}"
                                           min="0"/>

                                <h:outputText value="Regime de Trabalho: "/>
                                <p:inputText value="#{associadoBean.associado.regimeDeTrabalho}"/>

                                <h:outputText value="Local de trabalho: "/>
                                <p:inputText value="#{associadoBean.associado.localDeTrabalho}"/>

                                <h:outputText value="Observações: "/>
                                <p:inputTextarea maxlength="255" style="width: 450" 
                                                 value="#{associadoBean.associado.observacoes}"
                                                 rows="5" autoResize="false"/>


                            </h:panelGrid>
                        </p:panel>
                    </p:tab>

                    <p:tab id="documentos" title="Documentos Pessoais">
                        <p:panel header="Cadastro de Documentos">

                            <h:panelGrid styleClass="formulario_cadastro" cellpadding="5">

                                <p:column>
                                    <h:outputText value="CPF: "/>
                                    <p:inputMask value="#{associadoBean.associado.cpf}" 
                                                 mask="999.999.999-99" required="true"/>
                                </p:column>

                                <h:panelGroup >
                                    <h:outputText value="RG: "/>
                                    <p:inputText value="#{associadoBean.associado.rg}" 
                                                 style="margin-right: 40px; margin-left: 5px"/>
                                    <h:outputText value="Orgão Emissor: "/>
                                    <p:inputText value="#{associadoBean.associado.rgOrgaoEmissor}" style="margin-right: 40px"/>

                                    <h:outputText value="UF: " style="margin-left: 36px; margin-right: 2px"/>
                                    <p:selectOneMenu id="ufRG" value="#{associadoBean.associado.rgUF}">
                                        <f:selectItem itemLabel="Selecione"/>
                                        <f:selectItems var="uf" value="#{associadoBean.estados}" 
                                                       itemLabel="#{uf}" itemValue="#{uf}"
                                                       />
                                    </p:selectOneMenu>
                                </h:panelGroup>

                                <h:panelGroup >
                                    <h:outputText value="Titulo: " style="margin-left: -20px"/>
                                    <p:inputText value="#{associadoBean.associado.tituloEleitoral}" 
                                                 style="margin-right: 40px; margin-left: 5px"/>
                                    <h:outputText value="Zona: " style="margin-left: 77px"/>
                                    <p:inputText value="#{associadoBean.associado.tituloEleitoralZona}" 
                                                 style="margin-right: 40px"/>
                                    <h:outputText value="Sessão: "/>
                                    <p:inputText value="#{associadoBean.associado.tituloEleitoralSessao}" style="margin-right: 40px"/>
                                </h:panelGroup>

                                <h:panelGroup >
                                    <h:outputText value="Profissional: " 
                                                  style="margin-left: -58px"/>
                                    <p:inputText value="#{associadoBean.associado.carteiraProfissional}" 
                                                 style="margin-right: 116px; margin-left: 5px"/>
                                    <h:outputText value="Série: "/>
                                    <p:inputText value="#{associadoBean.associado.carteiraProfissionalSerie}" style="margin-right: 40px"/>
                                    <h:outputText value="UF: " style="margin-left: 36px; margin-right: 2px"/>
                                    <p:selectOneMenu id="ufProfissional" value="#{associadoBean.associado.carteiraProficionalUF}">
                                        <f:selectItem itemLabel="Selecione"/>
                                        <f:selectItems var="uf" value="#{associadoBean.estados}" 
                                                       itemLabel="#{uf}" itemValue="#{uf}"
                                                       />
                                    </p:selectOneMenu>
                                </h:panelGroup>


                            </h:panelGrid>
                        </p:panel>
                    </p:tab>


                    <p:tab id="cadastrarFoto" title="Foto" >

                        <p:panel header="Cadastrar Foto" >
                            <h:panelGrid>
                                <h:panelGroup>

                                    <p:commandLink onclick="PF('cadastrarImagem').show();">

                                        <p:graphicImage id="ft" value="#{fotoBean.foto}"
                                                        width="150" style="float: right"> 
                                            <f:param id="ftn" name="fotoNome" value="#{associadoBean.service.numMatricula}"/>
                                        </p:graphicImage>


                                    </p:commandLink>
                                </h:panelGroup>
                            </h:panelGrid>
                        </p:panel>
                    </p:tab>

                    <p:tab id="dadosDoImovel" title="Finalizar Cadastro" >
                        <p:panel header="Finalizar Cadastro">

                            <p:commandButton value="Imprimir Ficha de Associado"
                                             onclick="PF('teste').show();" 
                                             >

                            </p:commandButton>



                            <p:spacer width="40"/>

                            <p:button value="Cadastrar Imóvel Rural" outcome="/adm/local_trabalho/local_trabalho.jsf">

                                <f:param name="associado" value="#{associadoBean.service.numMatricula}"/>

                            </p:button>
                        </p:panel>
                    </p:tab>
                </p:wizard>


            </h:form>
            <h:form id="testeform">

                <p:dialog id="teste" widgetVar="teste" width="1200" height="600" >
                    <p:fieldset id="ficha" legend="Ficha do Associado">

                        <p:commandButton value="Imprimir" type="button" icon="ui-icon-print" style="display:block;margin-bottom: 20px"
                                         >
                            <p:printer target="ficha_socio" />
                        </p:commandButton>
                        <p:commandButton value="Salvar" actionListener="#{associadoBean.salvar}"/>
                        <p:panel id="ficha_socio"   visible="true"  style="border: 0px;text-align: center;" >
                            <div style="">
                                <table width="900" border="1" align="center" style="border-collapse: collapse;">
                                    <tr>
                                        <td height="191" colspan="9" style="text-align: center;font-family: sans-serif;font-weight: bold;padding-top: 20px;">
                                            <img src="../imagens/sintraf_icon.png" width="110" style="float: left; margin-left: 20px;"/>
                                            <br></br>
                                            SINDICATO DOS TRABALHADORES NA AGRICULTURA FAMILIAR DE MONTEIRO - PB
                                            <br></br>
                                            FUNDADO DESDE 28 / 05 / 2009
                                            <br></br>
                                            CNPJ N.º 10.861.844/0001-80
                                            Praça Odilon Rodrigues Neves, s/n.º, 1.º Andar, Centro, 
                                            <br></br><br></br>
                                            Zabelê/PB, CEP: 58.515-000 sintrafzmssupb@hotmail.com
                                            <div style="width: 75px;height: 100px;float: right;margin-right: 20px;
                                                 margin-bottom: 15px;">
                                                <p:graphicImage id="impft" value="#{fotoBean.foto}"
                                                                width="150" style="float: right"> 
                                                    <f:param id="imftn" name="fotoNome" value="#{associadoBean.service.numMatricula}"/>
                                                </p:graphicImage>
                                                <img src="/home/jefferson/Área de Trabalho/Imagens/Sintraf/#{associadoBean.service.numMatricula}.png" width="75" height="100"/>
                                            </div>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="9" align="center"><span style="font-size:32px;">Ficha de Associado</span></td>
                                    </tr>
                                    <tr>
                                        <td >Nome:</td>
                                        <td colspan="8">#{associadoBean.associado.nome}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="4">Matrícula Sindical Nº: #{associadoBean.associado.matricula}</td>
                                        <td >Data de Filiação:</td>
                                        <td >
                                            <h:outputText value="#{associadoBean.associado.dataDeFiliacao}">
                                                <f:convertDateTime dateStyle="default"/>
                                            </h:outputText>
                                        </td>
                                        <td >Profissão:</td>
                                        <td colspan="2">#{associadoBean.associado.profissao}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Filiação Pai:</td>
                                        <td colspan="6">#{associadoBean.associado.nomeDoPai}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Filiação Mãe:</td>
                                        <td colspan="6">#{associadoBean.associado.nomeDaMae}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Estado Civil:</td>
                                        <td colspan="3">#{associadoBean.associado.estadoCivil}</td>
                                        <td>Naturalidade:</td>
                                        <td colspan="2">#{associadoBean.associado.naturalidade} - #{associadoBean.associado.naturalidadeUF}</td>
                                    </tr>

                                    <tr>
                                        <td colspan="2">Endereço:</td>
                                        <td colspan="7">#{associadoBean.associado.endereco}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">Bairro:</td>
                                        <td colspan="4">#{associadoBean.associado.bairro}</td>
                                        <td>Cidade:</td>
                                        <td colspan="2">#{associadoBean.associado.cidade} - #{associadoBean.associado.cidadeUF}</td>
                                    </tr>
                                    <tr>
                                        <td>RG:</td>
                                        <td colspan="2">#{associadoBean.associado.rg}</td>
                                        <td >Órgão Emissor:</td>
                                        <td colspan="2">#{associadoBean.associado.rgOrgaoEmissor} - #{associadoBean.associado.rgUF}</td>
                                        <td>CPF:</td>
                                        <td colspan="2">#{associadoBean.associado.cpf}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Cartira Profissional Nº: </td>
                                        <td colspan="3">#{associadoBean.associado.carteiraProfissional}</td>
                                        <td>Série:</td>
                                        <td colspan="2">#{associadoBean.associado.carteiraProfissionalSerie}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Título Eleitoral Nº:</td>
                                        <td colspan="2">#{associadoBean.associado.tituloEleitoral}</td>
                                        <td>Zona:</td>
                                        <td>#{associadoBean.associado.tituloEleitoralZona}</td>
                                        <td >Sessão:</td>
                                        <td >#{associadoBean.associado.tituloEleitoralSessao}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Data de Nascimento:</td>
                                        <td colspan="6">
                                            <h:outputText value="#{associadoBean.associado.dataDeNascimento}">
                                                <f:convertDateTime dateStyle="default"/>
                                            </h:outputText></td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Trabalha para si mesmo?</td>
                                        <td colspan="6">
                                            <c:if test="${!associadoBean.associado.trabalhoProprio}">
                                                Sim
                                            </c:if>
                                            <c:if test="${associadoBean.associado.trabalhoProprio}">
                                                Não
                                            </c:if>
                                        </td>

                                    </tr>
                                    <tr>
                                        <td colspan="3">Alfabetizado(a):</td>
                                        <td colspan="6">
                                            <c:if test="${associadoBean.associado.alfabetizado}">
                                                Sim
                                            </c:if>
                                            <c:if test="${!associadoBean.associado.alfabetizado}">
                                                Não
                                            </c:if>

                                        </td>
                                        <tr>
                                            <td colspan="3">Nome da esposa(o):</td>
                                            <td colspan="6">#{associadoBean.associado.nomeConjugue}</td>
                                        </tr>

                                        <tr>
                                            <td colspan="2">Parceiro?</td>
                                            <td>
                                                <c:if test="${associadoBean.associado.trabalhoProprio}">
                                                    Sim
                                                </c:if>
                                                <c:if test="${!associadoBean.associado.trabalhoProprio}">
                                                    Não
                                                </c:if>    

                                            </td>
                                            <td colspan="2" align="center">Pequeno proprietário?</td>
                                            <td>
                                                <c:if test="${!associadoBean.associado.trabalhoProprio}">
                                                    Sim
                                                </c:if>
                                                <c:if test="${associadoBean.associado.trabalhoProprio}">
                                                    Não
                                                </c:if>    
                                            </td>
                                            <td colspan="3"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">Quantos filhos tem?</td>
                                            <td>#{associadoBean.associado.quantidadeDeFilhos}</td>
                                            <td>Estudam?</td>
                                            <td colspan="4">#{associadoBean.associado.quantidadeDeFilhosEstudando}</td>

                                        </tr>
                                        <tr>
                                            <td colspan="3">Dependentes: </td>
                                            <td colspan="6">#{associadoBean.associado.dependentes}</td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">Regime de Trabalho:</td>
                                            <td colspan="6">#{associadoBean.associado.regimeDeTrabalho}</td>

                                        </tr>
                                        <tr>
                                            <td height="85" colspan="3" valign="top">Observação:</td>
                                            <td colspan="6" valign="top">#{associadoBean.associado.observacoes}</td>
                                        </tr>
                                    </tr>
                                </table>
                            </div>
                        </p:panel>

                    </p:fieldset>
                </p:dialog>

            </h:form>

            <script>
                function recarregar() {
                    window.Location.reload();
                }
            </script>
        </ui:define>
    </ui:decorate>
</html>
